# Probabilistic Programming for Faster Bayesian Computation

This project aims to improve the computation time of Stan models in R by implementing **Sufficient Statistics**.

## Objective

The goal of this repository is to demonstrate how the use of sufficient statistics can significantly reduce the computation time of Stan models without affecting the quality of the results. We test and compare various Stan models to quantify the impact of this approach.

## Models Tested

We focus on three types of models:

1. **Linear Regression Models**
2. **Mixed Effects Models**
3. **Gaussian Graphical Models**

We compare the different approaches:

- **Standard Stan model**  
- **Stan model using Sufficient Statistics**  
- **BRMS model (for regression models)**, which is considered the state-of-the-art package for Bayesian regression in R.  

### BRMS Model Considerations

To benchmark BRMS models fairly, we extract the Stan code generated by the BRMS package. This avoids the extra time taken by BRMS to create the Stan function, ensuring a fair comparison with the other models. Additionally, we ensure that priors and other model components are defined consistently across models. Notably, BRMS has an optimized way of writing priors, making it faster than the standard RStan implementation.

## Hypothesis

We hypothesize that implementing sufficient statistics will improve computation time without affecting the quality of the model's output. Sufficient statistics eliminate unnecessary terms from the computation, streamlining the process.

### Results

The results support our hypothesis, showing that models using sufficient statistics produce the same results as standard models but run significantly faster. The degree of improvement is particularly noticeable with larger datasets, where the number of observations \(N\) plays a key role in the speedup.

BRMS does not leverage sufficient statistics, so with larger \(N\), its Stan code generally takes longer to run compared to models using sufficient statistics.

### Limitations

However, not all models can benefit from sufficient statistics. For example, models like **Poisson Regression** have computationally intensive components that cannot be simplified using this method. In such cases, the use of sufficient statistics offers little to no advantage.

## Conclusion

While sufficient statistics are not universally applicable, they can significantly reduce computation time in many scenarios, particularly for models where the likelihood can be meaningfully simplified. This reduction in time comes with no loss in model quality, making it a valuable technique for improving the performance of Bayesian models.
